{% set name = "praw" %}
{% set import = "praw" %}
{% set version = "7.8.1" %}
{% set sha256 = "3c5767909f71e48853eb6335fef7b50a43cbe3da728cdfb16d3be92904b0a4d8" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.org/packages/source/{{ name[0]|lower }}/{{ name|lower }}/{{ name }}-{{ version }}.tar.gz
  sha256: {{ sha256 }}
  patches:
    # Statically specify version in pyproject.toml
    # Avoids requiring dynamic execution of package and runtime deps at build
    # See praw-dev/praw#2004 (should be fixed in praw >7.8.1)
    # https://github.com/praw-dev/praw/issues/2004
    - static-version.patch

build:
  noarch: python
  number: 0
  script: {{ PYTHON }} -m pip install . -vv

requirements:
  host:
    - python {{ python_min }}
    - flit-core >=3.4,<4
    - pip
  run:
    - python >={{ python_min }}
    - prawcore >=2.1,<3
    - update_checker >=0.18
    - websocket-client >=0.54.0

test:
  requires:
    - pip
    - python {{ python_min }}
  commands:
    - pip check
  imports:
    - {{ import }}

about:
  home: https://praw.readthedocs.io/
  license: BSD-2-Clause
  license_family: BSD
  license_file: LICENSE.txt
  summary: Python Reddit API Wrapper allows for simple access to Reddit's API
  description: |
    PRAW, an acronym for "Python Reddit API Wrapper", is a python package that
    allows for simple access to Reddit's API. PRAW aims to be easy to use and
    internally follows all of Reddit's API rules. With PRAW there's no need to
    introduce sleep calls in your code. Give your client an appropriate user
    agent and you're set.
  dev_url: https://github.com/praw-dev/praw
  doc_url: https://praw.readthedocs.io/

extra:
  recipe-maintainers:
    - CAM-Gerlach
    - djsutherland
